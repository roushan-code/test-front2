import{j as s}from"./header-BpO07gUl.js";import{r as t}from"./vendor-DbStWbRy.js";import{b as f,c as u,a as v,B as o,q as x,K as g,v as I,M as N,L as S,p as y,O as D}from"./index-DY3Nn9As.js";import{S as C}from"./Sidebar-DQqsPqq-.js";import{d as P}from"./AccountTree-DgwPKKR6.js";import"./footer-DRM0n1_S.js";const $=()=>{const{id:i}=f(),{order:e,error:d,loading:c}=u(r=>r.orderDetails),{error:n,isUpdated:l}=u(r=>r.order),j=r=>{r.preventDefault();const h=new FormData;h.set("status",p),a(D(i,h))},a=v(),[p,m]=t.useState("");return t.useEffect(()=>{d&&(o.error(d),a(x())),n&&(o.error(n),a(x())),l&&(o.success("Order Updated Successfully"),a({type:g})),a(I(i))},[a,d,i,l,n]),s.jsxs(t.Fragment,{children:[s.jsx(N,{title:"Process Order"}),s.jsxs("div",{className:"dashboard",children:[s.jsx(C,{}),s.jsx("div",{className:"newProductContainer",children:c?s.jsx(S,{}):s.jsxs("div",{className:"confirmOrderPage",style:{display:e&&e.orderStatus==="Delivered"?"block":"grid"},children:[s.jsxs("div",{children:[s.jsxs("div",{className:"confirmshippingArea",children:[s.jsx("h2",{className:"h22",children:"Shipping Info"}),s.jsxs("div",{className:"orderDetailsContainerBox",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Name:"}),s.jsx("span",{children:e&&e.user&&e.user.name})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Phone:"}),s.jsx("span",{children:e&&e.shippingInfo&&e.shippingInfo.phoneNo})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Address:"}),s.jsx("span",{children:e&&e.shippingInfo&&`${e.shippingInfo.address}, ${e.shippingInfo.city}, ${e.shippingInfo.state}, ${e.shippingInfo.pinCode}, ${e.shippingInfo.country}`})]})]}),s.jsx("h2",{className:"h22",children:"Payment"}),s.jsxs("div",{className:"orderDetailsContainerBox",children:[s.jsx("div",{children:s.jsx("p",{className:e&&e.paymentInfo&&e.paymentInfo.status==="succeeded"?"greenColor":"redColor",children:e&&e.paymentInfo&&e.paymentInfo.status==="succeeded"?"PAID":"NOT PAID"})}),s.jsxs("div",{children:[s.jsx("p",{children:"Amount:"}),s.jsx("span",{children:e&&e.totalPrice})]})]}),s.jsx("h2",{className:"h22",children:"Order Status"}),s.jsx("div",{className:"orderDetailsContainerBox",children:s.jsx("div",{children:s.jsx("p",{className:e&&e.orderStatus==="Delivered"?"greenColor":"redColor",children:e&&e.orderStatus})})})]}),s.jsxs("div",{className:"confirmCartItems",children:[s.jsx("h2",{className:"h22",children:"Your Cart Items:"}),s.jsx("div",{className:"confirmCartItemsContainer",children:e&&e.orderItems&&e.orderItems.map(r=>s.jsxs("div",{children:[s.jsx("img",{src:r.image,loading:"lazy",alt:"Product"}),s.jsx(y,{to:`/product/${r.product}`,children:r.name})," ",s.jsxs("span",{children:[r.quantity," X ₹",r.price," ="," ",s.jsxs("b",{children:["₹",r.price*r.quantity]})]})]},r.product))})]})]}),s.jsx("div",{style:{display:e&&e.orderStatus==="Delivered"?"none":"block"},children:s.jsxs("form",{className:"updateOrderForm",onSubmit:j,children:[s.jsx("h1",{children:"Process Order"}),s.jsxs("div",{children:[s.jsx(P,{}),s.jsxs("select",{onChange:r=>m(r.target.value),children:[s.jsx("option",{value:"",children:"Choose Category"}),e&&e.orderStatus==="Processing"&&s.jsx("option",{value:"Shipped",children:"Shipped"}),e&&e.orderStatus==="Shipped"&&s.jsx("option",{value:"Delivered",children:"Delivered"})]})]}),s.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",id:"createProductBtn",type:"submit",disabled:c?!0:p==="",children:[s.jsx("span",{class:"MuiButton-label",children:"Process"}),s.jsx("span",{class:"MuiTouchRipple-root"})]})]})})]})})]})]})};export{$ as default};
