import{j as s}from"./header-BpO07gUl.js";import{r as i}from"./vendor-DbStWbRy.js";import{d as x}from"./Edit-CHcStD_f.js";import{u as j,a as E,c as u,B as o,d as f,P as N,y as S,M as g,p as L,Q as b}from"./index-DY3Nn9As.js";import{d as U}from"./Delete-DhenMsAm.js";import{S as C}from"./Sidebar-DQqsPqq-.js";import{D as M}from"./DataGrid-CY_eJP15.js";import"./footer-DRM0n1_S.js";const T=()=>{const l=j(),r=E(),{error:a,users:d}=u(e=>e.allUsers),{error:t,isDeleted:n,message:m}=u(e=>e.profile),h=e=>{r(b(e))};i.useEffect(()=>{a&&(o.error(a),r(f())),t&&(o.error(t),r(f())),n&&(o.success(m),l("/admin/users"),r({type:N})),r(S())},[r,a,t,l,n,m]);const p=[{field:"id",headerName:"User ID",minWidth:180,flex:.8},{field:"email",headerName:"Email",minWidth:200,flex:1},{field:"name",headerName:"Name",minWidth:150,flex:.5},{field:"role",headerName:"Role",type:"number",minWidth:150,flex:.3,cellClassName:e=>e.value==="admin"?"greenColor":"redColor"},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:e=>s.jsxs(i.Fragment,{children:[s.jsx(L,{to:`/admin/user/${e.row.id}`,children:s.jsx(x,{})}),s.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",onClick:()=>h(e.row.id),children:[s.jsx("span",{class:"MuiButton-label",children:s.jsx(U,{})}),s.jsx("span",{class:"MuiTouchRipple-root"})]})]})}],c=[];return d&&d.forEach(e=>{c.push({id:e._id,role:e.role,email:e.email,name:e.name})}),s.jsxs(i.Fragment,{children:[s.jsx(g,{title:"ALL USERS - Admin"}),s.jsxs("div",{className:"dashboard",children:[s.jsx(C,{}),s.jsxs("div",{className:"productListContainer",children:[s.jsx("h1",{id:"productListHeading",children:"ALL USERS"}),s.jsx(M,{rows:c,columns:p,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})};export{T as default};
