import{j as e}from"./header-BpO07gUl.js";import{r as i}from"./vendor-DbStWbRy.js";import{d as h}from"./Edit-CHcStD_f.js";import{u as x,a as j,c as u,B as o,z as m,D as b,w as D,M as E,p as N,A as S}from"./index-DY3Nn9As.js";import{d as L}from"./Delete-DhenMsAm.js";import{S as P}from"./Sidebar-DQqsPqq-.js";import{D as g}from"./DataGrid-CY_eJP15.js";import"./footer-DRM0n1_S.js";const W=()=>{const d=x(),r=j(),{error:s,products:c}=u(t=>t.products),{error:a,isDeleted:n}=u(t=>t.product),p=t=>{r(S(t))};i.useEffect(()=>{s&&(o.error(s),r(m())),a&&(o.error(a),r(m())),n&&(o.success("Product Deleted Successfully"),d("/admin/dashboard"),r({type:b})),r(D())},[r,s,a,d,n]);const f=[{field:"id",headerName:"Product ID",minWidth:200,flex:.5},{field:"name",headerName:"Name",minWidth:350,flex:1},{field:"stock",headerName:"Stock",type:"number",minWidth:150,flex:.3},{field:"price",headerName:"Price",type:"number",minWidth:270,flex:.5},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:t=>e.jsxs(i.Fragment,{children:[e.jsx(N,{to:`/admin/product/${t.row.id}`,children:e.jsx(h,{})}),e.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",onClick:()=>p(t.row.id),children:[e.jsx("span",{class:"MuiButton-label",children:e.jsx(L,{})}),e.jsx("span",{class:"MuiTouchRipple-root"})]})]})}],l=[];return c&&c.forEach(t=>{l.push({id:t._id,stock:t.Stock,price:t.price,name:t.name})}),e.jsxs(i.Fragment,{children:[e.jsx(E,{title:"ALL PRODUCTS - Admin"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(P,{}),e.jsxs("div",{className:"productListContainer",children:[e.jsx("h1",{id:"productListHeading",children:"ALL PRODUCTS"}),e.jsx(g,{rows:l,columns:f,pageSize:15,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})};export{W as default};
