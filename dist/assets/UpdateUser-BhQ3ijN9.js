import{j as e}from"./header-BpO07gUl.js";import{r}from"./vendor-DbStWbRy.js";/* empty css                   */import{n as R,o as M,u as D,a as y,c as U,b as B,R as N,B as d,d as g,S as C,M as P,L as q,T as L,f as F,V as T}from"./index-DY3Nn9As.js";import{S as V}from"./Sidebar-DQqsPqq-.js";import"./footer-DRM0n1_S.js";var c={},w=M;Object.defineProperty(c,"__esModule",{value:!0});var S=c.default=void 0,z=w(R()),A=e;S=c.default=(0,z.default)((0,A.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser");const J=()=>{const p=D(),t=y(),{loading:E,error:l,user:a}=U(s=>s.userDetails),{loading:_,error:u,isUpdated:m}=U(s=>s.profile),[x,f]=r.useState(""),[j,v]=r.useState(""),[n,h]=r.useState(""),{id:i}=B();r.useEffect(()=>{a&&a._id!==i?t(N(i)):(f(a.name),v(a.email),h(a.role)),l&&(d.error(l),t(g())),u&&(d.error(u),t(g())),m&&(d.success("User Updated Successfully"),p("/admin/users"),t({type:C}))},[t,l,p,m,u,a,i]);const b=s=>{s.preventDefault();const o=new FormData;o.set("name",x),o.set("email",j),o.set("role",n),t(T(i,o))};return e.jsxs(r.Fragment,{children:[e.jsx(P,{title:"Update User"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(V,{}),e.jsx("div",{className:"newProductContainer",children:E?e.jsx(q,{}):e.jsxs("form",{className:"createProductForm",onSubmit:b,children:[e.jsx("h1",{children:"Update User"}),e.jsxs("div",{children:[e.jsx(L,{}),e.jsx("input",{type:"text",placeholder:"Name",required:!0,value:x,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(F,{}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,value:j,onChange:s=>v(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(S,{}),e.jsxs("select",{value:n,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"",children:"Choose Role"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"user",children:"User"})]})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",id:"createProductBtn",type:"submit",disabled:_?!0:n==="",children:[e.jsx("span",{class:"MuiButton-label",children:"Update"}),e.jsx("span",{class:"MuiTouchRipple-root"})]})]})})]})]})};export{J as default};
