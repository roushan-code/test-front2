import{j as e}from"./header-BpO07gUl.js";import{r as i}from"./vendor-DbStWbRy.js";import{n as E,o as S,u as b,a as N,c as p,W as h,B as l,z as f,X as M,M as B,Y as C}from"./index-DY3Nn9As.js";import{d as D}from"./Delete-DhenMsAm.js";import{S as _}from"./Sidebar-DQqsPqq-.js";import{D as I}from"./DataGrid-CY_eJP15.js";import"./footer-DRM0n1_S.js";var n={},L=S;Object.defineProperty(n,"__esModule",{value:!0});var x=n.default=void 0,W=L(E()),y=e;x=n.default=(0,W.default)((0,y.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const V=()=>{const d=b(),r=N(),{error:o,isDeleted:u}=p(t=>t.review),{error:c,reviews:a,loading:v}=p(t=>t.productReviews),[s,j]=i.useState(""),R=t=>{r(C(t,s))},g=t=>{t.preventDefault(),r(h(s)),c&&(l.error(c),r(f()))};i.useEffect(()=>{s.length===24&&r(h(s)),o&&(l.error(o),r(f())),u&&(l.success("Review Deleted Successfully"),d("/admin/reviews"),r({type:M}))},[r,o,d,u,s]);const w=[{field:"id",headerName:"Review ID",minWidth:200,flex:.5},{field:"user",headerName:"User",minWidth:200,flex:.6},{field:"comment",headerName:"Comment",minWidth:350,flex:1},{field:"rating",headerName:"Rating",type:"number",minWidth:180,flex:.4,cellClassName:t=>t.value>=3?"greenColor":"redColor"},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:t=>e.jsx(i.Fragment,{children:e.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",onClick:()=>R(t.row.id),children:[e.jsx("span",{class:"MuiButton-label",children:e.jsx(D,{})}),e.jsx("span",{class:"MuiTouchRipple-root"})]})})}],m=[];return a&&a.forEach(t=>{m.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name})}),e.jsxs(i.Fragment,{children:[e.jsx(B,{title:"ALL REVIEWS - Admin"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(_,{}),e.jsxs("div",{className:"productReviewsContainer",children:[e.jsxs("form",{className:"productReviewsForm",onSubmit:g,children:[e.jsx("h1",{className:"productReviewsFormHeading",children:"ALL REVIEWS"}),e.jsxs("div",{children:[e.jsx(x,{}),e.jsx("input",{type:"text",placeholder:"Product Id",required:!0,value:s,onChange:t=>j(t.target.value)})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",id:"createProductBtn",type:"submit",disabled:v?!0:s==="",children:[e.jsx("span",{class:"MuiButton-label",children:"Search"}),e.jsx("span",{class:"MuiTouchRipple-root"})]})]}),a&&a.length>0?e.jsx(I,{rows:m,columns:w,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0}):e.jsx("h1",{className:"productReviewsFormHeading",children:"No Reviews Found"})]})]})]})};export{V as default};
