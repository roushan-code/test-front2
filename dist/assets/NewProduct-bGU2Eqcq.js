import{j as e}from"./header-BpO07gUl.js";import{r as s}from"./vendor-DbStWbRy.js";/* empty css                   */import{u as D,a as M,c as _,B as x,z as R,N as k,M as I,E as T}from"./index-DY3Nn9As.js";import{d as $}from"./AccountTree-DgwPKKR6.js";import{d as q,a as z,b as A,c as L}from"./AttachMoney-D09fuHrV.js";import{S as U}from"./Sidebar-DQqsPqq-.js";import"./footer-DRM0n1_S.js";const X=()=>{const d=D(),o=M(),{loading:j,error:c,success:u}=_(t=>t.newProduct),[l,g]=s.useState(""),[f,v]=s.useState(0),[m,P]=s.useState(""),[S,C]=s.useState(""),[y,b]=s.useState(0),[E,p]=s.useState([]),[N,h]=s.useState([]),w=["Laptop","Footwear","Electronics","Watch","Attire","Camera","SmartPhones"];s.useEffect(()=>{c&&(x.error(c),o(R())),u&&(x.success("Product Created Successfully"),d("/admin/dashboard"),o({type:k}))},[o,c,d,u]);const F=t=>{t.preventDefault();const a=new FormData;a.set("name",l),a.set("price",f),a.set("description",m),a.set("category",S),a.set("Stock",y),E.forEach(i=>{a.append("images",i)}),o(T(a))},B=t=>{const a=Array.from(t.target.files);p([]),h([]),a.forEach(i=>{const r=new FileReader;r.onload=()=>{r.readyState===2&&(h(n=>[...n,r.result]),p(n=>[...n,r.result]))},r.readAsDataURL(i)})};return e.jsxs(s.Fragment,{children:[e.jsx(I,{title:"Create Product"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(U,{}),e.jsx("div",{className:"newProductContainer",children:e.jsxs("form",{className:"createProductForm",encType:"multipart/form-data",onSubmit:F,children:[e.jsx("h1",{children:"Create Product"}),e.jsxs("div",{children:[e.jsx(q,{}),e.jsx("input",{type:"text",placeholder:"Product Name",required:!0,value:l,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{children:[e.jsx(z,{}),e.jsx("input",{type:"number",placeholder:"Price",required:!0,onChange:t=>v(t.target.value)})]}),e.jsxs("div",{children:[e.jsx(A,{}),e.jsx("textarea",{placeholder:"Product Description",value:m,onChange:t=>P(t.target.value),cols:"30",rows:"1"})]}),e.jsxs("div",{children:[e.jsx($,{}),e.jsxs("select",{onChange:t=>C(t.target.value),children:[e.jsx("option",{value:"",children:"Choose Category"}),w.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx(L,{}),e.jsx("input",{type:"number",placeholder:"Stock",required:!0,onChange:t=>b(t.target.value)})]}),e.jsxs("p",{className:"para",children:["Each Image Size must be less than 50kb ",e.jsx("span",{children:"*"})]}),e.jsx("div",{id:"createProductFormFile",children:e.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:B,multiple:!0})}),e.jsx("div",{id:"createProductFormImage",children:N.map((t,a)=>e.jsx("img",{src:t,loading:"lazy",alt:"Product Preview"},a))}),e.jsxs("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-text",id:"createProductBtn",type:"submit",disabled:!!j,children:[e.jsx("span",{class:"MuiButton-label",children:"Create"}),e.jsx("span",{class:"MuiTouchRipple-root"})]})]})})]})]})};export{X as default};
